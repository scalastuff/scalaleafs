/*! jQuery calendar 1.1.0 (c) github.com/teamdf/jquery-calendar | opensource.teamdf.com/license */
(function(e){"use strict";var t,n,r="settings",i="cache",s="elements",o="begins",u="startdate",a='<div class="ui-',f=!1,l=!0,c="data",h="apply",p="calendar",d="colors",v="getIncrementBetween",m="events",g="getTime",y="resources",b="dragincrement",w="pre.details",E="getUTCHours",S="format",x="getDaysBetween",T=null,N="overlap",C="getTimezoneOffset",k="maskeventlabelend",L="enddate",A="container",O="getHours",M="div.ui-",_="span.button-remove",D="find",P="p.resize-top, p.resize-bottom",H="ends",B="addClass",j="incrementHeight",F="length",I="removeClass",q="getUTCDate",R="addDays",U="dayWidth",z="resource",W="hasOwnProperty",X="mousemove.",V="getMonth",$="resourceWidth",J="getDate",K="getUTCFullYear",Q="dblclick.",G="toString",Y="getFullYear",Z="getUTCMonth",et="incrementBy",tt="selectstart.",nt="resourcecount",rt="daystodisplay",it="maskeventlabeldelimiter",st="getMinutes",ot="toLowerCase",ut="getSeconds",at="getMinutesBetween",ft="elems",lt="position",ct="daytimestart",ht="dayHeight",pt="substring",dt="append",vt="mousedown.",mt="Y-m-d",gt="gridincrement",yt="ui-dragging ui-resizing",bt="monthstodisplay",wt="getDay",Et="-today",St="replace",xt="title",Tt="dragHeight",Nt="clone",Ct="notes",kt="dayblock",Lt="event",At="p.title",Ot="isArray",Mt="stopPropagation",_t="resourceline",Dt="animate",Pt="dateline",Ht='-event[data-id="',Bt="eventParse",jt="addSeconds",Ft="setSeconds",It="startmonth",qt="lockDate",Rt="round",Ut="floor",zt="ui-",Wt="-event",Xt="color",Vt="maskeventlabel",$t="linear",Jt="started",Kt="masktimelabel",Qt="date",Gt="setMinutes",Yt="daytimeend",Zt="defaultcolor",en=" 1px 1px 1px",tn="cal_info",nn="object",rn="unbind",sn="copy",on="selected",un="string",an="getMonthsBetween",fn="scrollLeft",ln="month",cn="preventDefault",hn="roundToIncrement",pn="_scrollbarSize",dn="resourcelinefill",vn=".ui-",mn="setHours",gn="HSLToRGB",yn="incrementsInDay",bn="deltaY",wn="getUTCDay",En="datelabel",Sn="addMonths",xn="backgroundColor",Tn="getMilliseconds",Nn="setDate",Cn="hour",kn="week",Ln="lang",An="cal_event",On="15 mins",Mn="height",_n="type",Dn="resourcelabel",Pn="console",Hn="getUTCSeconds",Bn="getUTCMinutes",jn="timeline",Fn="split",In="prevent",qn="left",Rn="width",Un="bind",zn="allowremove",Wn="100%",Xn="hidden",Vn="background-image",$n="datelinefill",Jn="startyear",Kn="calendars",Qn="errors",Gn="minheight",Yn="incrementsIn",Zn="mid",er="mainSelected",tr="calculateElementCount",nr="setSelectionRange",rr="attr",ir="scrollTop",sr="match",or="eventupdate",ur="0",ar="incY",fr="display",lr="character",cr="minute",hr="createTextRange",pr="remove",dr="second",vr="generate",mr="addYears",gr="drag",yr="none",br="easing",wr="extend",Er="fast",Sr="setMonth",xr="items",Tr="draw",Nr="textShadow",Cr="pageY",kr="addMinutes",Lr="H:i:s",Ar="text",Or="removeAttribute",Mr="partial",_r="timeblock",Dr="cal_begin",Pr="getHoursBetween",Hr="timelabel",Br="getWeeksBetween",jr="error",Fr="begin end",Ir="undefined",qr="detach",Rr="indexOf",Ur="getYearsBetween",zr="year",Wr=", ",Xr="overflow",Vr="mainTextShadow",$r="mainBackground",Jr="allowresize",Kr="mouseup.",Qr="maskdatelabel",Gr="scrollbarSize",Yr="overlapoffset",Zr="#FFFFFF",ei="lastY",ti="#FF00FF",ni="p:first",ri="addHours",ii="HueToRGB",si="data-id",oi="#00FFFF",ui="cal",ai="1.1.0",fi=ln,li=kn,ci={startdate:T,daystodisplay:T,startmonth:T,startyear:T,monthstodisplay:T,defaultcolor:"#255BA1",invalidcolor:"#888888",maskmonthlabel:"l",maskeventlabel:"g:i A",maskeventlabeldelimiter:"",maskeventlabelend:"",maskdatelabel:"D, jS",masktimelabel:{"00":"g:i <\\sp\\a\\n>A</\\sp\\a\\n>",noon:"\\N\\O\\O\\N"},resources:f,minwidth:130,minheight:T,overlapoffset:15,daytimestart:"00:00:00",daytimeend:"24:00:00",weekstart:1,dragincrement:On,gridincrement:On,creationsize:On,allowcreation:"both",allowmove:f,allowresize:f,allowselect:f,allowremove:f,allowoverlap:f,allownotesedit:f,easing:{eventupdate:$t,eventremove:$t,eventeditin:$t,eventeditout:$t,datechange:$t},eventcreate:e.noop,eventnotesedit:e.noop,eventremove:e.noop,eventselect:e.noop,eventmove:e.noop,eventresize:e.noop,dayclick:e.noop,daydblclick:e.noop,onload:e.noop},hi={prevent:function(e){e[cn]()},scrollbarSize:function(){if(!hi[pn]){var t=e(document.body),n=t.css({overflow:Xn})[Rn]();n-=t.css({overflow:"scroll"})[Rn]();n||(n=t[Rn]()-t[0].clientWidth);t.css({overflow:""});hi[pn]=n}return hi[pn]},_scrollbarSize:f,selectrange:function(e,t){return this.each(function(){if(this[nr]){this.focus();this[nr](e,t)}else if(this[hr]){var n=this[hr]();n.collapse(l);n.moveEnd(lr,t);n.moveStart(lr,e);n.select()}})},onscroll:function(t){var n=e(this),r=n.parent(vn+ui+"-container"),i=n[fn](),s=n[ir](),o=r[c](ui);if(o){r[D](vn+ui+"-timeline")[ir](s);r[D](vn+ui+"-dateline")[fn](i);r[D](vn+ui+"-resourceline")[fn](i)}},between:function(e,t,n){if(e instanceof Date){var r=e[g]();return r>=t[g]()&&r<=n[g]()}return isNaN(Number(e))?f:e>=t&&e<=n},inrange:function(e,t,n,r){return!(t[g]()<n[g]()||e[g]()>r[g]())},resource:function(e,t){var n=0;if(t[r][y]!==f)for(var i in t[r][y])if(t[r][y][W](i)){if(n==e)return{id:i,name:t[r][y][i]};n++}return{id:T,name:T}},resourceIndex:function(t,n){var i=0;if(n[r][y]!==f)if(e[Ot](n[r][y]))for(var s in n[r][y]){if(n[r][y][s]==t)return i;i++}else for(var s in n[r][y])if(n[r][y][W](s)){if(s==t)return i;i++}return f},repetitions:function(e,t){var n=[];console.log("Parsing repetitions: ",arguments);if("freq"in t.rules)switch(t.rules.freq){case"daily":case"weekly":case"yearly":}return n},overlaps:function(t,n,r){var s=e(this),u=s[c](ui),a=[];if(u){var h=u[i][m];for(var p in h)if(h[W](p)&&h[p][o]<n&&h[p][H]>t&&h[p][z]===r){h[p][N]={partial:l,inset:0,count:0,items:{},uid:p};a.push(h[p])}if(a[F]>1){a.sort(function(e,t){return e[o][g]()-t[o][g]()});for(var d in a)if(a[W](d))for(var v in a){if(d===v)continue;if(a[W](v)&&!(a[d][N].uid in a[v][N][xr])&&!(a[v][N].uid in a[d][N][xr])&&a[d][o]<a[v][H]&&a[d][H]>a[v][o]&&a[d][z]===a[v][z]){a[d][N][xr][a[v][N].uid]=a[v];a[v][N][xr][a[d][N].uid]=a[d];a[d][N].count++;a[v][N].count++;if(a[d][o][g]()==a[v][o][g]()){a[d][N][Mr]=f;a[v][N][Mr]=f;a[v][N].inset=a[d][N].inset+1}else a[d][o][g]()<a[v][o][g]()?a[d][N][Mr]&&a[v][N].inset++:a[v][N][Mr]&&a[d][N].inset++;u[i][m][a[d][N].uid]=a[d];u[i][m][a[v][N].uid]=a[v]}}for(var p in a)a[p][ft][c](ui,a[p])}s[c](ui,u)}},errors:{eventParse:function(e,t){var n=new Error(e);n[_n]="EventParse";n[Lt]=t;return n},icsParse:function(e,t,n){var r=new Error(e);r[_n]="ICSParse";r.line=t;r.value=n;return r}},parse:{_icalendar:{folds:/^\s(.*)$/,entry:/^([A-Za-z0-9-]+)((?:;[A-Za-z0-9-]+=(?:"[^"]+"|[^";:,]+)(?:,(?:"[^"]+"|[^";:,]+))*)*):(.*)$/,param:/;([A-Za-z0-9-]+)=((?:"[^"]+"|[^";:,]+)(?:,(?:"[^"]+"|[^";:,]+))*)/g,value:/,?("[^"]+"|[^";:,]+)/g,date:/^(\d{4})(\d\d)(\d\d)$/,time:/^(\d{4})(\d\d)(\d\d)T(\d\d)(\d\d)(\d\d)(Z?)$/,range:/^(\d{4})(\d\d)(\d\d)T(\d\d)(\d\d)(\d\d)(Z?)\/(\d{4})(\d\d)(\d\d)T(\d\d)(\d\d)(\d\d)(Z?)$/,offset:/^([+-])(\d\d)(\d\d)$/,duration:/^([+-])?P(\d+W)?(\d+D)?(T)?(\d+H)?(\d+M)?(\d+S)?$/,_rrule:function(e){var t=e[Fn](";"),n,r={};for(var i in t){n=t[i][Fn]("=");r[n[0][ot]()]=n[1][ot]()}return r}},icalendar:function(t){var n=hi[Qn].icsParse,r=hi.parse._icalendar,i=Dr,s=[],u=t[St](/\r\n/g,"\n")[Fn]("\n"),a=T,l=T;for(var c=u[F]-1;c>0;c--){var h=r.folds.exec(u[c]);if(h){u[c-1]+=h[1];u[c]=""}}e.each(u,function(t,u){if(!u)return;switch(i){case Dr:if(u[Rr]("BEGIN:VCALENDAR")==-1)throw new n("Expecting BEGIN:VCALENDAR but found '"+u+"' instead.",t,u);l={events:[]};i=tn;break;case tn:if(u[Rr]("BEGIN:VEVENT")==0){a={repeat:[],except:[]};i=An}if(u[Rr]("END:VCALENDAR")==0){s.push(l);i="done"}if(i!==tn)return;break;case An:if(u[Rr]("END:VEVENT")==0){l[m].push(a);i=tn}if(i!==An)return;var f=r.entry.exec(u);if(!f)throw new n("Missing entry name.",t,u);switch(f[1][ot]()){case"uid":a.uid=f[3];break;case"dtstart":a[o]=e[ui][Qt](f[3]);break;case"dtend":a[H]=e[ui][Qt](f[3]);break;case"summary":a[Ct]=f[3];break;case"rrule":a.repeats=r._rrule(f[3]);break;case"exrule":a.excepts=r._rrule(f[3]);break;case"rdate":a.repeat.push(e[ui][Qt](f[3]));break;case"exdate":a.except.push(e[ui][Qt](f[3]))}}});if(i!=="done")throw new n("Unexpected end of file. Expecting END:VCALENDAR.",u[F],"");return s[F]>0?s.pop():f}},event:{calculateElementCount:function(e){return Math.ceil(e[i][o][x](e[i][H],l))+1},update:function(t,n,s){var a=e(this),v=a[c](ui),g=v&&v[p]?v[p][c](ui):f;if(g&&v){var y=v[ft];o in t&&(v[o]=e[ui][Qt](t[o]));H in t&&(v[H]=e[ui][Qt](t[H]));Xt in t&&(v[d]=t[Xt]?e[ui][d][vr](t[Xt]):g[r][Zt]);xt in t&&(v[xt]=t[xt]||T);Ct in t&&(v[Ct]=t[Ct]||"");if(v[H]<g[r][u]||v[o]>g[i][L])return f;v[i][H]=g[i][L]<v[H]?g[i][L][jt](-1):v[H];v[i][o]=g[r][u]>v[o]?g[r][u][sn]():v[o];y[D](w)[Ar](v[Ct]);y[D](At)[Ar](v[xt]||v[o][S](g[r][Vt])+(g[r][k]!==""?g[r][it]+v[H][S](g[r][k]):""));y[c](ui,v);g[i][m][v.uid]=v;v[p][c](ui,g);hi[Tr][g[_n]][lt][h](y,[n,s]);return l}return f},edit:function(t){var n=t&&!e(this).is(M+ui+Wt)?e(this).parents(M+ui+Wt):e(this),s=n[c](ui),o=s&&s[p]?s[p][c](ui):f;if(o&&s){if(!o[r].allownotesedit)return;var u=n[D](w),a=u[Mn](),v=e('<textarea class="details" />')[Ar](s[Ct]||"").css({boxShadow:"inset 0px 0px 6px "+s[d].mainShadow}).on(vt+ui,function(e){e[Mt]()}).appendTo(n);if(n[Mn]()<=30){var g=n[Mn]()<=15?4:1,y=n[Mn]()<=15?-1:0;n[rn](Q+ui).stop(l,l);v.css({marginTop:y,left:g,right:g,height:a,border:"1px solid "+s[d][er],borderTop:yr,borderTopLeftRadius:0,borderTopRightRadius:0,opacity:0,overflow:Xn,zIndex:1})[Dt]({height:45,opacity:1},Er,o[r][br].eventeditin,function(){e(this).css(Xr,"scroll");u[qr]();hi.selectrange[h](v,[s[Ct][F]||0,s[Ct][F]||0])})}else{u[qr]();hi.selectrange[h](v,[s[Ct][F]||0,s[Ct][F]||0])}v.blur(function(){var t=s[Ct]!=e(this).val(),f=s[ft];s[Ct]=e(this).val();f[rr](xt,s[Ct]||"");if(n[Mn]()<=30){e(this).css(Xr,Xn);e(this)[Dt]({height:a,opacity:0},125,o[r][br].eventeditout,function(){e(this)[pr]()})}else e(this)[pr]();f[dt](u[Ar](s[Ct]||""));n[Un](Q+ui,hi[Lt].edit);if(t){f[c](ui,s);o[i][m][s.uid]=s;s[p][c](ui,o);o[r].eventnotesedit[h](s[p],[s.uid,s,f])}})}if(t){t[cn]();t[Mt]()}},select:function(t,n){var i=e(this),s=i[c](ui),o=s&&s[p]?s[p][c](ui):f;if(o&&s){if(!o[r].allowselect)return;t===undefined&&(t=Er);var u=s[p][D](M+ui+"-event.selected"),a=u[c](ui);if(a&&a.uid===s.uid)return;var l=o[r].eventselect[h](s[p],[s.uid,s,i]);if(l===undefined||l){var d=s[ft];u[I](on);d[B](on);hi[Tr][o[_n]][lt][h](d,[t,n]);hi[Tr][o[_n]][lt][h](u,[t,n])}}},remove:function(t,n,o){var u=t?e(this).closest(M+ui+Wt):e(this),a=u[c](ui),l=a&&a[p]?a[p][c](ui):f;if(l&&a){n===undefined&&(n=Er);o||(o=l[r][br].eventremove);var d=a[ft],v=l[r].eventremove[h](a[p],[a.uid,a,d,t]),g=function(){e(this)[pr]()};if(v===undefined||v){var y={width:0,height:0,fontSize:"0em",opacity:.1};delete l[i][m][a.uid];a[p][c](ui,l);switch(d[F]){case 1:y[qn]="+="+u[Rn]()/2;y.top="+="+u[Mn]()/2;u[Dt](y,n,o,g);break;case 2:var b=d.eq(0),w=d.eq(1),E=e[wr]({},y),S=e[wr]({},y);E[qn]="+="+d.eq(0)[Rn]();E.top=l[i][ht];S.top=0;b.delay(375)[Dt](E,n,o,g);w[Dt](S,n,o,g);break;default:var x=0;d.each(function(){x+=e(this)[Rn]()});y[qn]=u[lt]()[qn]+l[s][A][fn]()+x/2;y.top=l[i][ht]/2;d.first().delay(375)[Dt](y,n,o,g);d.filter(":not(:first)")[Dt](y,n,o,g)}}}if(t){t[cn]();t[Mt]()}}},drag:{start:function(t){var n=e(this),s=t&&!n.is(M+ui+Wt)?n.parents(M+ui+Wt):n,a=T,h=s[c](ui),d=h&&h[p]?h[p][c](ui):f;if(d&&h){var v={event:s,data:d,values:h,i:"cal_"+(new Date)[g](),type:"resize"};hi[gr][v.i]={started:f,startX:t.pageX,startY:t[Cr],lastX:t.pageX,lastY:t[Cr],deltaX:0,deltaY:0,incX:0,incY:0,obTime:h[o][sn](),oeTime:h[H][sn](),bTime:h[o][hn](d[r][b]),eTime:h[H][hn](d[r][b])};s.stop(l,l);switch(l){case n.is(vn+ui+Wt):v.lockBegins=Number(d[r][u][S]("Ymd"));v.lockEnds=Number(d[i][L][S]("Ymd"));v.lockDayBegins=Number(d[r][ct][St](/[^0-9]/g,""));v.lockDayEnds=Number(d[r][Yt][St](/[^0-9]/g,""));v[_n]="move";e(document)[Un](X+ui,v,hi[gr].move);break;case n.is(".resize-top"):v[qt]=h[o][S](mt);e(document)[Un](X+ui,v,hi[gr].resizeB);break;case n.is(".resize-bottom"):v[qt]=h[H][S](mt);e(document)[Un](X+ui,v,hi[gr].resizeE);break;default:delete hi[gr][v.i];return l}e(document)[Un](Kr+ui,v,hi[gr].end);t[Mt]()}},resizeB:function(t){var n=t[c][Lt],s=t[c][c],a=t[c].values,f=hi[gr][t[c].i];f[bn]=f[ei]-t[Cr];f[ei]=t[Cr];f[ar]+=f[bn];if(f[bn]==0)return l;if(!f[Jt]&&(f[ar]>5||f[ar]<-5)){f[Jt]=l;n[B](yt)}else if(f[Jt]){var d=Math[Rt](f[ar]/s[i][Tt]);if(d===0)return l;var g=f.bTime[et](s[r][b],0-d),y=g[S](mt),w=g[S](Lr);if(y===t[c][qt]||w!==s[r][ct]){if(y!==t[c][qt]){g=e[ui][Qt](t[c][qt]+" "+s[r][ct]);d=Math[Rt](g[v](a[o],s[r][b]))}if(g>=a[H]){d=Math[Rt](a[H][v](a[o],s[r][b]));g=a[H][et](s[r][b],-1)[sn]();e(document)[rn](X+ui)[Un](X+ui,t[c],hi[gr].resizeE)}f[ar]-=d*s[i][Tt];a[o]=f.bTime=g;a[i][o]=s[r][u]>a[o]?s[r][u][sn]():a[o];n[c](ui,a);s[i][m][a.uid]=a;a[p][c](ui,s);hi[Tr][s[_n]][lt][h](a[ft])}}},resizeE:function(t){var n=t[c][Lt],s=t[c][c],u=t[c].values,a=hi[gr][t[c].i];a[bn]=a[ei]-t[Cr];a[ei]=t[Cr];a[ar]+=a[bn];if(a[bn]==0)return l;if(!a[Jt]&&(a[ar]>5||a[ar]<-5)){a[Jt]=l;n[B](yt)}else if(a[Jt]){var f=Math[Rt](a[ar]/s[i][Tt]);if(f===0)return l;var d=a.eTime[et](s[r][b],0-f),g=d[S](mt),y=d[S](Lr);if(g===t[c][qt]||y!==s[r][Yt]){if(g!==t[c][qt]){d=e[ui][Qt](t[c][qt]+" "+s[r][Yt]);f=Math[Rt](d[v](u[H],s[r][b]))}if(d<=u[o]){f=Math[Rt](u[o][v](u[H],s[r][b]));d=u[o][et](s[r][b],1)[sn]();e(document)[rn](X+ui)[Un](X+ui,t[c],hi[gr].resizeB)}a[ar]-=f*s[i][Tt];u[H]=a.eTime=d;u[i][H]=s[i][L]<d?s[i][L][jt](-1):d;n[c](ui,u);s[i][m][u.uid]=u;u[p][c](ui,s);hi[Tr][s[_n]][lt][h](u[ft])}}},move:function(e){var t=e[c][Lt],n=e[c][c],s=e[c].values,a=hi[gr][e[c].i];a.deltaX=a.lastX-e.pageX;a.lastX=e.pageX;a.incX+=a.deltaX;a[bn]=a[ei]-e[Cr];a[ei]=e[Cr];a[ar]+=a[bn];if(!a[Jt]&&(a[ar]>5||a[ar]<-5||a.incX>5||a[ar]<-5)){a[Jt]=l;t[B]("ui-dragging")}else if(a[Jt])switch(n[_n]){case li:var f=Math[Rt](a[ar]/n[i][Tt]),d=Math[Rt](a.incX/n[i][U]);if(f===0&&d===0)return l;var v=a.bTime[R](0-d)[et](n[r][b],0-f),g=a.eTime[R](0-d)[et](n[r][b],0-f);a[ar]-=f*n[i][Tt];a.incX-=d*n[i][U];s[o]=a.bTime=v;s[H]=a.eTime=g;s[i][H]=n[i][L]<g?n[i][L][jt](-1):g;s[i][o]=n[r][u]>s[o]?n[r][u][sn]():s[o];t[c](ui,s);n[i][m][s.uid]=s;s[p][c](ui,n);hi[Tr][n[_n]][lt][h](s[ft]);break;case fi:t.css({left:"-="+a.deltaX,top:"-="+a[bn]})}},end:function(t){var n=t[c][Lt],i=t[c][c],s=t[c].values;switch(t[c][_n]){case"resize":i[r].eventresize[h](s[p],[s.uid,s,n]);break;case"move":i[r].eventmove[h](s[p],[s.uid,s,n])}e(document)[rn](X+ui)[rn](Kr+ui);n[I](yt);delete hi[gr][t[c].i];hi[Tr][i[_n]][lt][h](s[ft])}},draw:{week:{cal:function(t){var n,o,a,f,c,p,d,v,m=e[ui][Qt]()[S](mt);t[s][_r].css({width:Wn,height:t[i][j]});t[s][Hr].css({width:Wn,height:t[i][j]});for(var g=0,b,w;g<t[i][yn];g++){a=t[r][u][et](t[r][gt],g);w=a[S](Lr);b=a[S]("i");n=t[s][_r][Nt](l);n[rr]("time",w);n[rr]("past",b);p=t[s][Hr][Nt](l);p[rr]("time",w);p[rr]("past",b);w=="12:00:00"&&"noon"in t[r][Kt]?p[D](ni).html(a[S](t[r][Kt].noon)):b in t[r][Kt]&&p[D](ni).html(a[S](t[r][Kt][b]));t[s][kt][dt](n);t[s][jn][dt](p)}t[s][kt][D](M+ui+"-time:first").css("border-top",ur);t[s][jn][D](M+ui+"-label-time:first").html("");t[s][kt].css({width:t[i][$],height:t[i][ht]});t[s][Dn].css({width:t[i][$],height:Wn});t[s][En].css({width:t[i][U],height:Wn});for(var g=0;g<t[r][rt];g++){f=t[r][u][R](g);v=f[S](mt);for(var E=0;E<t[i][nt];E++){o=t[s][kt][Nt](l).css(qn,t[i][U]*g+t[i][$]*E)[rr]({date:v,day:f[wt](),resource:hi[z][h](this,[E,t]).id});E<t[i][nt]-1&&o[B](zt+ui+"-resource");v===m&&o[B](zt+ui+Et);t[s][A][dt](o);if(t[r][y]){c=t[s][Dn][Nt](l).css(qn,t[i][U]*g+t[i][$]*E)[rr]({date:v,day:f[wt](),resource:hi[z][h](this,[E,t]).id})[D]("p").html(hi[z][h](this,[E,t]).name).end();t[s][_t][dt](c)}}d=t[s][En][Nt](l).css(qn,t[i][U]*g)[rr]({date:v,day:f[wt]()})[D]("p").html(f[S](t[r][Qr])).end();v===m&&d[B](zt+ui+Et);t[s][Pt][dt](d)}t[s][Pt].add(t[s][_t]).css({right:t[i][Gr]});var x=e(this);x[dt](t[s][jn])[dt](t[s][Pt])[dt](t[s][$n])[dt](t[s][A]);(e[Ot](t[r][y])||typeof t[r][y]==nn)&&x[dt](t[s][_t])[dt](t[s][dn]);var T=t[i][ht]/2-t[s][A][Mn]()/2;t[s][A][ir](T)},event:function(e,t){t[i][H]=e[i][L]<t[H]?e[i][L][jt](-1):t[H];t[i][o]=e[r][u]>t[o]?e[r][u][sn]():t[o];var n=hi[Lt][tr][h](this,[t]),a,f;if(!(ft in t)||t[ft][F]<1){a=pi[Lt][Nt](l);e[r][zn]||a[D](_).hide();e[r][Jr]||a[D](P).hide();e[r].allowmove?a[D](w)[Un](tt+ui,hi[In]):a[rn](vt+ui,hi[gr].start);a[rr](si,t.uid);a[D](w)[Ar](t[Ct]);a[D](At)[Ar](t[xt]||t[o][S](e[r][Vt])+(e[r][k]!==""?e[r][it]+t[H][S](e[r][k]):""));f=a}else{f=t[ft][qr]();f[F]>n&&f.slice(0,n);a=f[I](Fr)[B](Zn).eq(0)}while(n>f[F])f=f.add(a[Nt](l));e[r][u]<=t[o]&&f.first()[I](Zn)[B]("begin");e[i][L]>=t[H]&&f.last()[I](Zn)[B]("end");e[s][A][dt](f);t[ft]=f;f[c](ui,t);hi[Tr][e[_n]][lt][h](f)},position:function(t,n,s){var a=e(this),m=a[c](ui),g=m&&m[p]?m[p][c](ui):f,s=s===undefined?l:s;g&&m&&a.each(function(y,b){var E=e(b),C=e[ui][Qt](m[o][R](y),g[r][ct]),L=e[ui][Qt](m[o][R](y),g[r][Yt]);if(s){var A=m[N][xr];hi.overlaps[h](m[p],[C,L,m[z]]);m=E[c](ui);for(var O in m[N][xr])hi[Tr][g[_n]][lt][h](m[N][xr][O][ft],[f,f,f]);for(var O in A)O in m[N][xr]||hi[Tr][g[_n]][lt][h](A[O][ft],[f,f,l])}var M={top:y>0?0:g[i][j]*e[ui][Qt](m[i][o],g[r][ct])[v](m[i][o],g[r][gt]),left:g[i][U]*(g[r][u][x](m[i][o],l)+y)+g[i][$]*m[z],width:(m[z]!==T?g[i][$]:g[i][U])-1,height:Math.min(g[i][ht],g[i][j]*(y<1?m[o]:C)[v](y==a[F]-1?m[i][H]:L,g[r][gt])),backgroundColor:E.hasClass(on)?m[d][er]:m[d][$r],textShadow:m[d][Vr]+en,color:m[d].mainText};M[Rn]-=g[r][Yr]*m[N].count;M[qn]+=g[r][Yr]*m[N].inset;var _={backgroundColor:m[d].detailsBackground,textShadow:m[d].detailsTextShadow+en,color:m[d].detailsText};if(M[Mn]<=15){_[fr]=yr;E[rr](xt,m[Ct]||"")[rn](Q+ui)[Un](Q+ui,hi[Lt].edit)}else{_[fr]="block";E.removeAttr(xt)[rn](Q+ui)}m[xt]||E[D](At)[Ar](m[o][S](g[r][Vt])+(g[r][k]!==""?g[r][it]+m[H][S](g[r][k]):""));if(!t){E.css(M);E[D](w).css(_)}else{E.stop(l,f)[Dt](M,t,n||g[r][br][or])[D](w).stop(l,f)[Dt](_,t,n||g[r][br][or]).css(fr,_[fr]);if(jQuery.ui===undefined){E.css({backgroundColor:M[xn],textShadow:M[Nr],color:M[Xt]});E[D](w).css({backgroundColor:_[xn],textShadow:_[Nr],color:_[Xt]})}}})}},month:{cal:function(t){var n,o,a,f,c,h=e[ui][Qt]()[S](mt);t[s][En].css({width:t[i][U],height:Wn});t[s][kt].css({width:t[i][U],height:t[i][ht]});for(var p=0;p<t[r].daystodraw;p++){f=t[r][u][R](p);c=f[S](mt);o=t[s][kt][Nt](l)[rr]({date:c,day:f[wt]()}).css({left:t[i][U]*(p%7),top:t[i][ht]*Math[Ut](p/7)}).toggleClass("non-month",f[V]()+1!=t[r][It])[D]("p")[Ar](f[J]()).end();c===h&&o[B](zt+ui+Et);if(p<7){a=t[s][En][Nt](l)[rr]({date:c,day:f[wt]()}).css(qn,t[i][U]*p)[D]("p").html(f[S](t[r].maskmonthlabel)).end();t[s][Pt][dt](a)}t[s][A][dt](o)}var d=e(this);d[dt](t[s][Pt])[dt](t[s][A])},event:function(e,t){t[i][H]=e[i][L]<t[H]?e[i][L][jt](-1):t[H];t[i][o]=e[r][u]>t[o]?e[r][u][sn]():t[o];t[i].repetitions=hi.repetitions[h](this,[e,t]);var n=hi[Lt][tr][h](this,[t]),a,f;if(!(ft in t)||t[ft][F]<1){a=pi[Lt][Nt](l);e[r][zn]||a[D](_).hide();e[r].allowmove||a[rn](vt+ui,hi[gr].start);a[D](P).hide();a[rr](si,t.uid);a[D](w)[Ar](t[Ct]);a[D](At)[Ar]("● "+(t[xt]||t[o][S](e[r][Vt])+(e[r][k]!==""?e[r][it]+t[H][S](e[r][k]):"")));a[rr](xt,t[Ct]||"")[rn](Q+ui)[Un](Q+ui,hi[Lt].edit);f=a}else{f=t[ft][qr]();f[F]>n&&f.slice(0,n);a=f[I](Fr)[B](Zn).eq(0)}while(n>f[F])f=f.add(a[Nt](l));e[r][u]<=t[o]&&f.first()[I](Zn)[B]("begin");e[i][L]>=t[H]&&f.last()[I](Zn)[B]("end");e[s][A][dt](f);t[ft]=f;f[c](ui,t);hi[Tr][e[_n]][lt][h](f)},position:function(t,n,s){var a=e(this),h=a[c](ui),v=h&&h[p]?h[p][c](ui):f,s=s===undefined?l:s;v&&h&&a.each(function(s,c){var p=864e5,m=Math[Ut](Math.abs(v[r][u][g]()-h[o][g]())/p)+1,y=e(c),b=y.hasClass(on),E=a[F]>1,S={top:v[i][ht]*Math[Ut]((m-1)/7)+2+18,left:v[i][U]*((m-1)%7)+(s>0?0:2),width:v[i][U]-(E&&s==0?2:4),height:v[i][j],backgroundColor:b?h[d][er]:"transparent",textShadow:b?h[d][Vr]+en:yr,color:b?h[d].mainText:h[d][$r]};y[rr](xt,h[Ct]||"");if(b){c.style[Or]?c.style[Or](Vn):c.style.removeProperty(Vn);y[D](_).show();E&&s==0&&y[D](_).hide();s>0&&y[D](At).hide()}else{c.style.backgroundImage=yr;y[D](_).hide();s>0&&y[D](At).show()}if(!t)y.css(S)[D](w).hide();else{y.stop(l,f)[Dt](S,t,n||v[r][br][or])[D](w).hide();jQuery.ui===undefined&&y.css({backgroundColor:S[xn],textShadow:S[Nr],color:S[Xt]})}})}}}},pi={event:e([a+ui+'-event mid">','<p class="resize-top" />','<p class="title" />','<span class="button-remove" />','<pre class="details" />','<p class="footer" />','<p class="resize-bottom" />',"</div>"].join(""))[Un](tt+ui,hi[In])[Un](vt+ui,hi[Lt].select)[Un](vt+ui,hi[gr].start)[D](P)[Un](vt+ui,hi[gr].start).end()[D](w)[Un](Q+ui,hi[Lt].edit).end()[D]("p")[Un](tt+ui,hi[In]).end()[D](_)[Un]("click."+ui,hi[Lt][pr]).end(),day:e(a+ui+'-date" date="" day="" />')[Un](tt+ui,hi[In]),time:e(a+ui+'-time" time="" past="" />'),labels:{time:e(a+ui+'-label-time" time="" past="" ><p /></div>'),date:e(a+ui+'-label-date" date=""><p /><div class="delimiter" /></div>'),resource:e(a+ui+'-label-resource" date=""><p /><div class="delimiter" /></div>')},timeline:e(a+ui+'-timeline" />')[Un](tt+ui,hi[In]),dateline:e(a+ui+'-dateline" />')[Un](tt+ui,hi[In]),datelinefill:e(a+ui+'-dateline-fill" />'),resourceline:e(a+ui+'-resourceline" />'),resourcelinefill:e(a+ui+'-resourceline-fill" />'),container:e(a+ui+'-wrapper" />')[Un]("scroll."+ui,hi.onscroll)},di={init:function(t){return e(this).each(function(){var n=e[wr]({},ci);t&&e[wr](n,t);var o=e(this),a=o[c](ui);if(!a){a={type:li,target:o,settings:n,elements:{},cache:{scrollbarSize:hi[Gr](),enddate:undefined,incrementsInDay:undefined,incrementHeight:undefined,dragHeight:undefined,dayWidth:undefined,dayHeight:undefined,events:{},calendars:{}}};if(a[r][It]===T&&a[r][Jn]===T&&a[r][bt]===T){a[r][u]===T&&(a[r][u]=new Date);a[r][rt]===T&&(a[r][rt]=7)}else{a[r][It]===T&&(a[r][It]=(new Date)[V]()+1);a[r][Jn]===T&&(a[r][Jn]=(new Date)[Y]());a[r][bt]===T&&(a[r][bt]=1);a[r][u]=e[ui][Qt](a[r][Jn]+"-"+(Number(a[r][It])<10?ur:"")+Number(a[r][It])+"-01");a[i][L]=a[r][u][Sn](a[r][bt]);a[r][rt]=a[r][u][x](a[i][L]);a[_n]=fi}a[r][u]=e[ui][Qt](a[r][u],a[r][ct]);a[r][Zt]=e[ui][d][vr](a[r][Zt]);a[r].invalidcolor=e[ui][d][vr](a[r].invalidcolor);a[r][Gn]=Math[Rt](a[r][Gn]===T?e[ui][Yn](a[r][gt],"1 min"):a[r][Gn]);a[i][L]=a[r][u][R](a[r][rt]);a[i][yn]=a[r][u][v](e[ui][Qt](a[r][u],a[r][Yt]),a[r][gt]);a[i][j]=a[r][Gn];a[i][Tt]=a[i][j]/e[ui][Yn](a[r][gt],a[r][b]);a[i][nt]=1;o[B](zt+ui+" ui-"+ui+"-container ui-"+ui+"-"+a[_n]);a[s][Pt]=pi[Pt][Nt](l);a[s][A]=pi[A][Nt](l);a[s][kt]=pi.day[Nt](l);a[s][En]=pi.labels[Qt][Nt](l);a[s][Dn]=pi.labels[z][Nt](l);switch(a[_n]){case fi:var f=a[r][u][wt](),p=a[i][L][R](1)[wt](),g=a[r].weekstart-1,w=g==0?6:g-1;a[r][u]=a[r][u][R]((g>f?g-7:g)-f);a[i][L]=a[i][L][R](w-p+2);a[r].daystodraw=a[r][u][x](a[i][L]);a[i].weekstodraw=a[r][u][Br](a[i][L]);a[s][kt][dt]("<p/>");a[i].monthWidth=o.outerWidth()/a[r][bt];a[i][U]=a[i].monthWidth/7;a[i][ht]=(o.outerHeight()-22)/a[i].weekstodraw;hi[Tr][ln].cal[h](this,[a]);break;case li:if(e[Ot](a[r][y])||typeof a[r][y]==nn){a[i][nt]=0;for(var E in a[r][y])a[r][y][W](E)&&a[i][nt]++;o[B](zt+ui+"-resources");a[s][_t]=pi[_t][Nt](l);a[s][dn]=pi[dn][Nt](l)}a[s][$n]=pi[$n][Nt](l);a[s][jn]=pi[jn][Nt](l);a[s][_r]=pi.time[Nt](l);a[s][Hr]=pi.labels.time[Nt](l);var S=(o.outerWidth()-60)/(a[r][rt]*a[i][nt]);a[i][$]=Math.max(a[r].minwidth,S);a[i][U]=a[i][$]*a[i][nt];a[i][ht]=a[i][j]*a[i][yn];hi[Tr][kn].cal[h](this,[a])}o[c](ui,a);e[Ot](a[r][Kn])||(a[r][Kn]=[a[r][m]]);e(a[r][Kn]).each(function(){var t,n;if(e[Ot](this))t=this;else if(typeof this==un)t=this;else if(e.isPlainObject(this)){t=this[m];n=this[Xt]}if(e[Ot](t))for(var i=0;i<t[F];i++){Xt in t[i]||(t[i][Xt]=n);di.add[h](o,[t[i]])}else typeof t==un&&e.ajax(t,{accepts:"text/calendar",dataType:Ar,type:"get",crossDomain:l,data:{from:a[r].datefrom,to:a[r].dateto},success:function(t){var r=hi.parse.icalendar[h](o,[t]);console.log("Parsed: ",r);if(r&&m in r&&e[Ot](r[m])&&r[m][F]>0)for(var i=0,s;i<r[m][F];i++){Xt in r[m][i]||(r[m][i][Xt]=n);di.add[h](o,[r[m][i]])}}})});a[r][Kn]=undefined;a[r][m]=undefined;a[r].onload[h](o)}})},events:function(){var t=e(this),n=t[c](ui);return n?n[i][m]:[]},event:function(t){var n=e(this),r=n[c](ui);return r&&t in r[i][m]?r[i][m][t]:f},add:function(t){var n=e(this),s=n[c](ui);if(s){if(!1 in t)throw hi[Qn][Bt]("Missing unique id (uid)",t);if(!o in t)throw hi[Qn][Bt]("Missing start date/time (begins)",t);if(!H in t)throw hi[Qn][Bt]("Missing end date/time (ends)",t);if(t.uid in s[i][m])throw hi[Qn][Bt]("UID must be unique",t);var a=e[ui][Qt](t[o]),l=e[ui][Qt](t[H]),p={elems:e([]),calendar:n,uid:t.uid,begins:a,ends:l,resource:s[r][y]&&t[z]?hi.resourceIndex[h](this,[t[z],s]):T,colors:t[Xt]?e[ui][d][vr](t[Xt]):s[r][Zt],title:t[xt]||T,notes:t[Ct]||"",cache:{},overlap:{inset:[],depth:[]}};if(p[z]===f)throw hi[Qn][Bt]("Invalid resource id (resource)",t);if(!(p[o]instanceof Date))throw hi[Qn][Bt]("Invalid start date/time (begins)",t);s[i][m][p.uid]=p;n[c](ui,s);hi.inrange[h](this,[a,l,s[r][u],s[i][L]])&&hi[Tr][s[_n]][Lt][h](n,[s,p])}return n},remove:function(t,n,r){var s=e(this),o,u=s[c](ui);if(u&&t in u[i][m]){o=u[i][m][t][ft];hi[Lt][pr][h](o,[T,n,r])}return s},update:function(t,n,r){var i=e(this),o,u=i[c](ui);if(u){n===undefined&&(n=Er);if(e[Ot](t))for(var a=0;a<t[F];a++){o=u[s][A][D](M+ui+Ht+t[a].uid+'"]');o[F]>0&&hi[Lt].update[h](o,[t[a],n,r])}else{o=u[s][A][D](M+ui+Ht+t.uid+'"]');o[F]>0&&hi[Lt].update[h](o,[t,n,r])}}return i},select:function(t,n,r){var i=e(this),o=i[c](ui);if(o){$event=o[s][A][D](M+ui+Ht+t+'"]');$event[F]>0&&hi[Lt].select[h]($event,[n,r])}return i},option:function(t,n){var a=e(this),l=a[c](ui);if(l){if(typeof t==Ir)return l[r];if(typeof t==nn){for(var p in t)t[W](p)&&di.option[h](a,[p,t[p]]);return a}if(!t in l[r])return f;if(typeof n==Ir)return l[r][t];switch(t){case zn:l[s][A][D](M+ui+"-event span.button-remove").toggle(Boolean(n));break;case Jr:l[s][A][D](P).toggle(Boolean(n));break;case u:var d=e[ui][Qt](n,l[r][ct]),v=l[r][u];l[r][u]=d;l[i][L]=d[R](l[r][rt]);a[c](ui,l);var g;for(var y in l[i][m]){g=l[i][m][y];hi.inrange[h](this,[g[o],g[H],l[r][u],l[i][L]])?hi[Tr][l[_n]][Lt][h](a,[l,g]):ft in g&&g[ft][F]>0&&g[ft][qr]()}var b=e(M+ui+"-date",l[s][A])[I](zt+ui+Et),w=e[ui][Qt]()[S](mt);switch(l[_n]){case fi:e(l[s][kt])[I](zt+ui+Et).each(function(t,n){var r=e(n),i=d[R](t),s=i[S](mt);r[rr]({date:s,day:i[wt]()})[D]("p").html(i[S]("j")).end();s===w&&r[B](zt+ui+Et)});break;case li:e(M+ui+"-label-date",l[s][Pt])[I](zt+ui+Et).each(function(t,n){var i=e(n),s=d[R](t),o=s[S](mt);b.eq(t)[rr]({date:o,day:s[wt]()});i[rr]({date:o,day:s[wt]()})[D]("p").html(s[S](l[r][Qr])).end();o===w&&i.add(b.eq(t))[B](zt+ui+Et)})}return a;default:l[r][t]=n}return a}},version:function(){return ui+" v"+ai},destroy:function(){return this.each(function(){var t=e(this),n=t[c](ui);if(n){for(var r=0;r<n[i][m][F];r++)n[i][m][r][ft][pr]();t.removeData(ui);t.empty()}})}};e.fn[ui]=function(t){if(di[t])return di[t][h](this,Array.prototype.slice.call(arguments,1));if(typeof t===nn||!t)return di.init[h](this,arguments);e[jr]("Method "+t+" does not exist on jQuery."+ui)};e[ui]={};e[ui][d]={named:{aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:oi,aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:oi,darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:ti,gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:ti,maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370D8",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#D87093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",reactorblue:"#0266A1",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:Zr,whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"},HexToRGB:function(t,n){return(n!==undefined?"rgba":"rgb")+"("+e[ui][d].HexToR(t)+Wr+e[ui][d].HexToG(t)+Wr+e[ui][d].HexToB(t)+(n!==undefined?Wr+n+")":")")},HexToR:function(t){return parseInt(e[ui][d].cutHex(t)[pt](0,2),16)},HexToG:function(t){return parseInt(e[ui][d].cutHex(t)[pt](2,4),16)},HexToB:function(t){return parseInt(e[ui][d].cutHex(t)[pt](4,6),16)},cutHex:function(t){return t.charAt(0)=="#"?e[ui][d].padHex(t[pt](1,7)):e[ui][d].padHex(t)},padHex:function(e){return e[F]>3?e:e[pt](0,1)+e[pt](0,1)+e[pt](1,2)+e[pt](1,2)+e[pt](2,3)+e[pt](2,3)},HueToRGB:function(e,t,n){n<0&&(n+=1);n>1&&(n-=1);return n<1/6?e+(t-e)*6*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e},HSLToRGB:function(t,n,r,i,s){var o,u,a,f,l,c;t/=360;n/=100;r/=100;if(n==0)o=u=a=r;else{f=r<.5?r*(1+n):r+n-r*n;l=2*r-f;o=e[ui][d][ii](l,f,t+1/3);u=e[ui][d][ii](l,f,t);a=e[ui][d][ii](l,f,t-1/3)}c=[Math[Rt](o*255),Math[Rt](u*255),Math[Rt](a*255)];if(s){i!==undefined&&(c[3]=i);return c}return(i!==undefined?"rgba":"rgb")+"("+c.join(Wr)+(i!==undefined?Wr+i+")":")")},RGBToHSL:function(e,t,n){var r,i,s,o,u,a;e/=255,t/=255,n/=255;r=Math.max(e,t,n),i=Math.min(e,t,n);u=(r+i)/2;if(r==i)s=o=0;else{a=r-i;o=u>.5?a/(2-r-i):a/(r+i);switch(r){case e:s=(t-n)/a+(t<n?6:0);break;case t:s=(n-e)/a+2;break;case n:s=(e-t)/a+4}s/=6}return[Math[Rt](s*360),Math[Rt](o*100),Math[Rt](u*100)]},brightness:function(e,t,n){return(e*299+t*587+n*114)/1e3},generate:function(t){function a(t,n,r){var i=e[wr]([],t);i[1]=Math.max(0,i[1]+n/2);i[2]=Math.min(100,i[2]+n);r!==undefined&&(i[3]=r);return i}function f(t,n,r){var i=e[wr]([],t);i[2]=Math.max(0,i[2]-n);r!==undefined&&(i[3]=r);return i}var n,r,i,s,o,u=10;t in e[ui][d].named&&(t=e[ui][d].named[t]);if(t[sr](/^#?([0-9A-Fa-f]{3,6})$/)){n=[e[ui][d].HexToR(t),e[ui][d].HexToG(t),e[ui][d].HexToB(t)];r=e[ui][d].RGBToHSL(n[0],n[1],n[2])}else if(t[St](/ /g,"")[sr](/([rR][gG][bB]\s*\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|([rR][gG][bB]\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\))/)){n=t[St](/[a-zA-Z\(\) ]/g,"")[Fn](",");r=e[ui][d].RGBToHSL(n[0],n[1],n[2])}else{if(!t[St](/ /g,"")[sr](/([hH][sS][lL]\s*\(\s*([0-9]|[1-9][0-9]|[1-2][0-9][0-9]|3[0-5][0-9]|360)\s*,\s*(\d?\d%|100%)\s*,\s*(\d?\d%|100%)\s*\))/))throw new Error("Invalid Colour: could not parse "+t+" as a color.");r=t[St](/[a-zA-Z\(\) %]/g,"")[Fn](",")}r[1]<u&&(r[1]+=u);r[1]>100-u&&(r[1]-=u);r[2]>100-u&&(r[2]-=u);r[2]<u&&(r[2]+=u);i=e[ui][d][gn][h](this,a(r,u*5,.3));s=e[ui][d][gn][h](this,a(r,u*3,.75));o=e[ui][d].brightness[h](this,e[ui][d][gn](r[0],r[1],r[2],undefined,l))>125?"#333333"
:Zr;return{original:t,mainBackground:e[ui][d][gn][h](this,r),mainTextShadow:i,mainShadow:s,mainText:o,mainSelected:e[ui][d][gn][h](this,f(r,u)),detailsBackground:e[ui][d][gn][h](this,a(r,u)),detailsTextShadow:i,detailsShadow:s,detailsText:o}}};e[ui][Ln]={en:{short_month:Array("Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"),long_month:Array("January","February","March","April","May","June","July","August","September","October","November","December"),short_day:Array("Sun","Mon","Tue","Wed","Thu","Fri","Sat"),long_day:Array("Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"),label_remove:"Remove",label_today:"Today"}};t={d:function(){return(this[J]()<10?ur:"")+this[J]()},D:function(){return e[ui][Ln][this[Ln]].short_day[this[wt]()]},j:function(){return this[J]()},l:function(){return e[ui][Ln][this[Ln]].long_day[this[wt]()]},N:function(){return this[wt]()+1},S:function(){return this[J]()%10==1&&this[J]()!=11?"st":this[J]()%10==2&&this[J]()!=12?"nd":this[J]()%10==3&&this[J]()!=13?"rd":"th"},w:function(){return this[wt]()},z:function(){window[Pn]&&console[jr]("Mask 'z' Not Yet Supported");return"z"},W:function(){var e=new Date(this[Y](),0,1);return Math.ceil(((this-e)/864e5+e[wt]()+1)/7)},F:function(){return e[ui][Ln][this[Ln]].long_month[this[V]()]},m:function(){return(this[V]()+1<10?ur:"")+(this[V]()+1)},M:function(){return e[ui][Ln][this[Ln]].short_month[this[V]()]},n:function(){return this[V]()+1},t:function(){return(new Date(new Date(this[Y](),this[V]()+1,1)-1))[J]()},L:function(){window[Pn]&&console[jr]("Mask 'L' Not Yet Supported");return"L"},o:function(){window[Pn]&&console[jr]("Mask 'o' Not Yet Supported");return"o"},Y:function(){return this[Y]()},y:function(){return(""+this[Y]()).substr(2)},a:function(){return this[O]()<12?"am":"pm"},A:function(){return this[O]()<12?"AM":"PM"},B:function(){window[Pn]&&console[jr]("Mask 'B' Not Yet Supported");return"B"},g:function(){return this[O]()==0?12:this[O]()>12?this[O]()-12:this[O]()},G:function(){return this[O]()},h:function(){return(this[O]()<10||12<this[O]()<22?ur:"")+(this[O]()<10?this[O]()+1:this[O]()-12)},H:function(){return(this[O]()<10?ur:"")+this[O]()},i:function(){return(this[st]()<10?ur:"")+this[st]()},s:function(){return(this[ut]()<10?ur:"")+this[ut]()},e:function(){window[Pn]&&console[jr]("Mask 'e' Not Supported");return"e"},I:function(){window[Pn]&&console[jr]("Mask 'I' Not Supported");return"I"},O:function(){return this[G]()[sr](/GMT([+-][0-9]+) \(([a-zA-Z]+)\)/)[1]},P:function(){var e=this[G]()[sr](/GMT([+-][0-9]+) \(([a-zA-Z]+)\)/)[1][Fn]("");e.splice(-2,0,":");return e.join("")},T:function(){return this[G]()[sr](/GMT([+-][0-9]+) \(([a-zA-Z]+)\)/)[2]},Z:function(){return this[C]()*60},c:function(){return t.Y[h](this)+"-"+t.m[h](this)+"-"+t.d[h](this)+"T"+t.H[h](this)+":"+t.i[h](this)+":"+t.s[h](this)+t.P[h](this)},C:function(){return t.c[h](this)[St](t.P[h](this),"")+"Z"},r:function(){return this[G]()},U:function(){return this[g]()/1e3}};n={d:function(){return(this[q]()<10?ur:"")+this[q]()},D:function(){return e[ui][Ln][this[Ln]].short_day[this[wn]()]},j:function(){return this[q]()},l:function(){return e[ui][Ln][this[Ln]].long_day[this[wn]()]},N:function(){return this[wn]()+1},S:function(){return this[q]()%10==1&&this[q]()!=11?"st":this[q]()%10==2&&this[q]()!=12?"nd":this[q]()%10==3&&this[q]()!=13?"rd":"th"},w:function(){return this[wn]()},z:t.z,W:function(){var e=new Date(this[K](),0,1);return Math.ceil(((this-e)/864e5+e[wn]()+1)/7)},F:function(){return e[ui][Ln][this[Ln]].long_month[this[Z]()]},m:function(){return(this[Z]()+1<10?ur:"")+(this[Z]()+1)},M:function(){return e[ui][Ln][this[Ln]].short_month[this[Z]()]},n:function(){return this[Z]()+1},t:function(){return(new Date(new Date(this[K](),this[Z]()+1,1)-1))[q]()},L:t.L,o:t.o,Y:function(){return this[K]()},y:function(){return(""+this[K]()).substr(2)},a:function(){return this[E]()<12?"am":"pm"},A:function(){return this[E]()<12?"AM":"PM"},B:t.B,g:function(){return this[E]()==0?12:this[E]()>12?this[E]()-12:this[E]()},G:function(){return this[E]()},h:function(){return(this[E]()<10||12<this[E]()<22?ur:"")+(this[E]()<10?this[E]()+1:this[E]()-12)},H:function(){return(this[E]()<10?ur:"")+this[E]()},i:function(){return(this[Bn]()<10?ur:"")+this[Bn]()},s:function(){return(this[Hn]()<10?ur:"")+this[Hn]()},e:t.e,I:t.I,O:t.O,P:t.P,T:t.T,Z:t.Z,c:function(){return n.Y[h](this)+"-"+n.m[h](this)+"-"+n.d[h](this)+"T"+n.H[h](this)+":"+n.i[h](this)+":"+n.s[h](this)+n.P[h](this)},C:function(){return n.c[h](this)[St](n.P[h](this),"")+"Z"},r:t.r,U:function(){return this.getUTCTime()/1e3}};e[ui][S]=function(e,r,i){var s,o="",u="",a=i?n:t;for(s=0;s<r[F];s++){u=r.charAt(s);if(u=="\\"&&a[r.charAt(s+1)]){o+=r.charAt(s+1);s++}else t[u]?o+=a[u].call(e):o+=u}return o};e[ui][Qt]=function(t,n,r){var i,s,o,u,a,c,h,p,d,m,y,b;if(t instanceof Date){i=new Date(Date.UTC(t[K](),t[Z](),t[q](),t[E](),t[Bn](),t[Hn](),0));if(n!==undefined){s=n[sr](/[0-9]{1,2}:[0-9]{1,2}:[0-9]{1,2}([Zz])?/)?l:n==""?l:f;if(s){o=u=b=0;n=n[Fn](":");o=n[0];u=n[1];b=n[2];if((n[3]||"")[ot]()=="z"){i.setUTCHours(o);i.setUTCMinutes(u);i.setUTCSeconds(b)}else{i[mn](o);i[Gt](u);i[Ft](b)}}}if(Ln in i)return i}else if(typeof t==un||t&&typeof t==nn&&G in t)if(t[G]()!==""){c=t[G]()[Fn](/[Tt ]/);n!==undefined&&(c[1]=n?n:"");h=0 in c?c[0]==""?T:c[0][sr](/([0-9]{2,4})-?([0-9]{2})-?([0-9]{2})/):T;p=1 in c?c[1]==""?T:c[1][sr](/([0-9]{2}):?([0-9]{2}):?([0-9]{2})([Zz])?/):T;if(h===T){d=new Date;h=["",d[Y](),d[V]()+1,d[J]()]}p===T&&(p=["",0,0,0]);if(h&&p){m=h[1],y=h[2]-1,a=h[3],o=p[1],u=p[2],b=p[3];(p[4]||"")[ot]()=="z"?i=new Date(Date.UTC(m,y,a,o,u,b,0)):i=new Date(m,y,a,o,u,b)}}if(!(i instanceof Date)||isNaN(i))i=new Date;i[Ln]=r||"en";i.roundToDay=function(){return e[ui][Qt](new Date(this[K](),this[Z](),this[q](),0,0,0))};i.roundToMonth=function(){return e[ui][Qt](new Date(this[K](),this[Z](),1,0,0,0))};i.getUTCTime=function(){return this[g]()+this[C]()*6e4};i[Ur]=function(e){var t=this[an](e);return Math[Ut](t/12)};i[an]=function(e,t){var n,r,i,s=this[sn](),o=e[sn](),u=s[sn]();u[Nn](1);u[Sr](u[V]()+1);u[Nn](0);u=u[J]();n=o[sn]();n[Nn](1);n[Sr](n[V]()+1);n[Nn](0);n=n[J]();if(t){s[Nn](1);o[Nn](1)}r=s[Y]()*12+s[V]();i=o[Y]()*12+o[V]();if(!t){r+=(s[J]()+s[O]()/24+s[st]()/24/60-1)/u;i+=(o[J]()+o[O]()/24+s[st]()/24/60-1)/n}return i-r};i[Br]=function(e,t){var n,r=this[sn](),i=e[sn]();if(t){r=r[R](1-r[wt]());r[mn](0,0,0,0)}n=r[x](i)/7;return t?Math[Ut](n):n};i[x]=function(e,t){var n,r,i=e[sn]();t&&i[mn](this[O](),this[st](),this[ut](),this[Tn]());n=(-this[C]()/60- -i[C]()/60)*36e5;r=i[g]()-this[g]();return(r-n)/864e5};i[Pr]=function(e,t){var n,r,i=e[sn]();t&&i[Gt](this[st](),this[ut](),this[Tn]());n=(-this[C]()/60- -i[C]()/60)*36e5;r=i[g]()-this[g]();return(r-n)/36e5};i[at]=function(e,t){var n,r,i=e[sn]();t&&i[Ft](this[ut](),this[Tn]());n=(-this[C]()/60- -i[C]()/60)*36e5;r=i[g]()-this[g]();return(r-n)/6e4};i.getSecondsBetween=function(e,t){return t?Math[Rt](this[at](e)*60):this[at](e)*60};i[mr]=function(e){var t=Math[Ut](e),n=Math[Ut]((e-t)*12),r=this[sn]();r.setFullYear(this[Y]()+t);r[Sr](this[V]()+n);return r};i[Sn]=function(e){var t=Math[Ut](e),n=this[sn]();n[Sr](this[V]()+t);return n};i[R]=function(e){var t=Math[Ut](e),n=Math[Ut]((e-t)*24),r=Math[Ut]((e-t-n/24)*24*60),i=Math[Ut]((e-t-n/24-r/24/60)*24*60*60),s=this[sn]();s[Nn](this[J]()+t);s[mn](this[O]()+n);s[Gt](this[st]()+r);s[Ft](this[ut]()+i);return s};i[ri]=function(e){var t=Math[Ut](e),n=Math[Ut]((e-t)*60),r=Math[Ut]((e-t-n/60)*60*60),i=this[sn]();i[mn](this[O]()+t);i[Gt](this[st]()+n);i[Ft](this[ut]()+r);return i};i[kr]=function(e){var t=Math[Ut](e),n=Math[Ut]((e-t)*60),r=this[sn]();r[Gt](this[st]()+t);r[Ft](this[ut]()+n);return r};i[jt]=function(e){var t=Math[Ut](e),n=this[sn]();n[Ft](this[ut]()+t);return n};i[sn]=function(){return e[ui][Qt](this[S]("Y-m-d H:i:s"))};i[S]=function(t){return e[ui][S](this,t)};i.formatUTC=function(t){return e[ui][S](this,t,l)};i[et]=function(e,t){var n,r,i;if(t===undefined||!isNaN(Number(t))&&Number(t)!==0){if(typeof e==un||typeof e=="number"||e!=T&&e!=undefined&&e!=f&&G in e){n=e[Fn](" ");r=Number(n[0]);i=n[1]||Cn;t!==T&&t!==undefined&&t!==f&&!isNaN(t)&&(r*=t);if(r!==0)switch(i[G]()[St](/s$/,"")[ot]()){case"sec":case dr:return this[kr](r/60);case"min":case cr:return this[kr](r);case Cn:return this[ri](r);case"day":return this[R](r);case kn:return this[R](r*7);case ln:return this[Sn](r);case zr:return this[mr](r)}return this[sn]()}return this[sn]()}return this};i[v]=function(e,t){var n,r,i;if(e instanceof Date&&!!t){n=t[Fn](" ");r=Number(n[0]);i=n[1]||Cn;if(r!==0)switch(i[G]()[St](/s$/,"")[ot]()){case"sec":case dr:return this[at](e)/60/r;case"min":case cr:return this[at](e)/r;case Cn:return this[Pr](e)/r;case"day":return this[x](e)/r;case kn:return this[x](e)/7/r;case ln:return this[an](e)/r;case zr:return this[Ur](e)/r}return Infinity}return 0};i[hn]=function(t){var n,r,i,s,o,u,a,l,c,h,p;if(typeof t==un||typeof t=="number"||t!=T&&t!=undefined&&t!=f&&G in t){n=t[Fn](" ");r=Number(n[0]);i=n[1]||Cn;s=this[g]();if(r!==0){o=0;switch(i[G]()[St](/s$/,"")[ot]()){case"sec":case dr:o=1e3*r;break;case"min":case cr:o=6e4*r;break;case Cn:o=36e5*r;break;case"day":o=864e5*r;return e[ui][Qt](new Date(Math[Rt]((s+432e5)/o)*o))[ri](-12);case kn:u=this[wt]();a=T;u<3?a=this[R](0-u):u>3?a=this[R](7-u):a=this[R](this[O]()>=12?7-u:0-u);a[mn](0,0,0,0);return a;case ln:l=e[ui][Qt](this[S]("Y-m-01 00:00:00"));c=l[x](l[Sn](1))/2;return this[J]()>=c?l[Sn](1):l;case zr:h=e[ui][Qt](this[S]("Y-01-01 00:00:00"));c=h[x](h[mr](1))/2;p=h[x](this);return p>=c?h[mr](1):h}return e[ui][Qt](new Date(Math[Rt](s/o)*o))}return this}return this[sn]()};return i};e[ui][Yn]=function(t,n){var r=e[ui][Qt]("1970-01-01 00:00:00");return r[v](r[et](t),n)}})(jQuery);